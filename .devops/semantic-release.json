{
    "branches": [
        "+([1-9])?(.{+([1-9]),x}).x",
        "latest",
        {"name": "prerelease", "prerelease": "prerelease"}
    ],
    "plugins": [
        [
            "@semantic-release/commit-analyzer", {
                "parserOpts": {
                    "revertPattern": "/^(?:Revert|revert:)\\s\"?([\\s\\S]+?)\"?\\s*This reverts commit (\\w*)\\./"
                },
                "releaseRules": [
                    {"breaking": true, "release": "major"},
                    {"type": "feat", "release": "minor"},
                    {"revert": true, "release": "patch"},
                    {"type": "fix", "release": "patch"},
                    {"type": "refactor", "release": "patch"},
                    {"type": "docs", "release": "patch"}
                ]
            }
        ],
        [
            "@semantic-release/release-notes-generator", {
                "parserOpts": {
                    "revertPattern": "/^(?:Revert|revert:)\\s\"?([\\s\\S]+?)\"?\\s*This reverts commit (\\w*)\\./"
                }
            }
        ],
        [
            "@semantic-release/changelog", {
                "changelogFile": "../CHANGELOG.md",
                "changelogTitle": "# Changelog"
            }
        ],
        [
            "@semantic-release/npm", {
                "npmPublish": false,
                "pkgRoot": "./package",
                "tarballDir": "./package"
            }
        ],
        [
            "@semantic-release/git", {
                "message": "chore(release): set version to ${nextRelease.version}\n\n${nextRelease.notes}\n\nThis commit is a result of automation, thus CI shouldn't run (***NO_CI***).",
                "assets": [
                    "../CHANGELOG.md",
                    "./package.json"
                ]
            }
        ],
        [
            "@semantic-release/github", {
                "assets": [
                    {"path": "./package/*.tgz", "label": "Unity Package"}
                ]
            }
        ]
    ]
}
